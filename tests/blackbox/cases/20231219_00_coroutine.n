import coroutine as co
import time

var foo = fn(){
    for true {
        println("co: sleeping...", time.now().timestamp())
        co.sleep(1000)
    }
}

var bar = fn(){
    for true {
        println("solo co: sleeping...", time.now().timestamp())
        co.sleep(1000)
    }
}

// - 共享协程
co.run(foo, [], 0)
co.run(foo, [], 0)

// - 独享协程
co.run(bar, [], co.SOLO)
co.run(bar, [], co.SOLO)

// main for sleep
for int i=0; i<10; i+=1 {
    println("main: sleeping...", time.now().timestamp())
    co.sleep(1000)
}