import syscall

var (fd, err) = try syscall.open('mock/notfound.txt', syscall.O_RDONLY, 0666)
if err.has {
    print('open mock/notfound.txt failed: ', err.msg, '\n')
} else {
    println('open mock/notfound.txt successful')
}

(fd, err) = try syscall.open('mock/open.txt', syscall.O_RDONLY | syscall.O_CREAT, 0666)
if err.has {
    print('open mock/open.txt failed: ', err.msg, '\n')
} else {
    println('open mock/open.txt successful')
}

// read buf is [u8]
var (buf, err) = try syscall.read(fd, 20)
if err.has {
    return print(err.msg)
}

print('actual read len: ', buf.len(), ' cap: ', buf.cap(), '\n')
var str =  buf as string
print('buf as string: ', str, '\n')