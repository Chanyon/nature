import coroutine as co

fn div(i32 dividend, i32 divisor):i32 {
    co.sleep(500)
    if (divisor == 0) {
        throw 'divisor cannot be 0'
    }

    return dividend / divisor
}

// 1.
var fut = @co_async(fn() {
    println('in closure fn')
    co.sleep(1000)
    throw 'in closure err'
}(), co.SOLO)

fut.await()